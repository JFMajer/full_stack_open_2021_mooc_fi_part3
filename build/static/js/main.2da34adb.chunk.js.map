{"version":3,"sources":["components/Number.js","components/PersonForm.js","components/Filter.js","services/phonebook.js","App.js","reportWebVitals.js","index.js"],"names":["Number","props","person","name","number","onClick","handleDelete","PersonForm","onSubmit","addName","value","newName","onChange","handleNameChange","newNumber","handleNumberChange","type","Filter","search","baseUrl","axios","get","then","response","data","newPerson","post","id","delete","oldPerson","put","ShowMessage","message","className","ShowErrorMessage","errorMessage","App","useState","persons","setPersons","setNewName","setNewNumber","setMessage","setErrorMessage","useEffect","phonebook","res","console","log","e","searchQuery","target","toLowerCase","map","includes","display","preventDefault","isTaken","persona","window","confirm","iGotPersonBack","p","setTimeout","catch","error","allNumbers","concat","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2da34adb.chunk.js","sourcesContent":["import React from 'react';\n\nconst Number = (props) => {\n  return (\n    <li>{ props.person.name } { props.person.number } <button onClick={props.handleDelete}>delete</button></li>\n  )\n}\n\nexport default Number","import React from 'react';\n\nconst PersonForm = (props) =>\n{\n    return (\n        <form onSubmit={ props.addName }>\n            name: <input value={ props.newName } onChange={ props.handleNameChange } />\n            number: <input value={ props.newNumber } onChange={ props.handleNumberChange } />\n            <button type=\"submit\">add</button>\n        </form>\n    )\n}\n\nexport default PersonForm","import React from 'react';\n\nconst Filter = ({search}) => {\n    return (\n        <div>search for <input onChange={ search }></input> </div>\n    )\n}\n\nexport default Filter","import axios from 'axios'\n//const baseUrl = 'http://localhost:3001/api/persons'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl);\n    return request.then(response => response.data)\n}\n\nconst addPerson = (newPerson) => {\n    const request = axios.post(baseUrl, newPerson)\n    return request.then(response => response.data)\n}\n\nconst deletePerson = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nconst updateNumber = (id, oldPerson) => {\n    const request = axios.put(`${baseUrl}/${id}`, oldPerson)\n    return request.then(response => response.data)\n}\n\n\nexport default {getAll, addPerson, deletePerson, updateNumber}\n\n","//import logo from './logo.svg';\nimport './App.css';\nimport React, { useEffect, useState } from 'react'\nimport Number from './components/Number'\nimport PersonForm from './components/PersonForm'\nimport Filter from './components/Filter'\nimport phonebook from './services/phonebook';\nimport axios from 'axios';\n\nconst ShowMessage = ({ message }) => {\n  if (message === '') {\n    return null\n  }\n  return (\n    <div className=\"message\">\n      { message }\n    </div>\n  )\n}\n\nconst ShowErrorMessage = ({ errorMessage }) => {\n  if (errorMessage === '') {\n    return null\n  }\n  return (\n    <div className=\"errorMessage\">\n      { errorMessage }\n    </div>\n  )\n\n}\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [message, setMessage] = useState('')\n  const [errorMessage, setErrorMessage] = useState('')\n\n  useEffect(() => {\n    phonebook\n      .getAll()\n      .then(res => {\n        console.log('promise fuillfiled')\n        setPersons(res)\n        console.log(persons)\n      })\n  }, [])\n\n  const handleNameChange = (e) => {\n    setNewName(e.target.value)\n  }\n\n  const handleNumberChange = (e) => {\n    setNewNumber(e.target.value)\n  }\n\n  const search = (e) => {\n    let searchQuery = e.target.value.toLowerCase()\n    setPersons(persons.map(person => {\n      if (person.name.toLowerCase().includes(searchQuery)) {\n        return { ...person, display: true }\n      } else {\n        return { ...person, display: false }\n      }\n    }))\n\n  }\n\n\n  const addName = (e) => {\n    e.preventDefault()\n    console.log('hello');\n    let isTaken = false;\n    const person = {\n      name: newName,\n      number: newNumber,\n      display: true\n    }\n    console.log('person:', person)\n    persons.map(persona => {\n      if (persona.name === newName) {\n        let confirm = window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`);\n        if (confirm) {\n          phonebook\n            .updateNumber(persona.id, person)\n            .then(iGotPersonBack => {\n              setPersons(persons.map(p => p.id === iGotPersonBack.id ? iGotPersonBack : p))\n            })\n            .then(() => {\n              setMessage(`Number for ${persona.name} updated`)\n              setTimeout(() => {\n                setMessage(null)\n              }, 5000)\n            })\n            .catch(error => {\n              setErrorMessage(error.response.data.error)\n            })\n        }\n        return isTaken = true;\n      }\n    })\n    if (!isTaken) {\n      phonebook\n        .addPerson(person)\n        .then(allNumbers => {\n          setPersons(persons.concat(allNumbers))\n        })\n        .then(() => {\n          setMessage(`Person ${person.name} has been added to phonebook!`)\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        })\n        .catch(error => {\n          setErrorMessage(error.response.data.error)\n        })\n\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const handleDelete = (person) => {\n    const id = person.id;\n    console.log(id)\n    let confirm = window.confirm(`you sure you want to remove ${person.name}?`)\n    if (confirm) {\n      phonebook\n        .deletePerson(id)\n        .then(\n          setPersons(persons.filter(person => person.id !== id))\n        )\n        .then(() => {\n          setMessage(`Person ${person.name} has been removed!`)\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        })\n    }\n  }\n\n  return (\n    <div>\n      <div>\n        <h2>Phonebook</h2>\n        <Filter search={ search } />\n        <h2>Add new</h2>\n        <PersonForm addName={ addName } newName={ newName } handleNameChange={ handleNameChange } newNumber={ newNumber } handleNumberChange={ handleNumberChange } />\n      </div>\n      <ShowMessage message={ message } />\n      <ShowErrorMessage errorMessage={ errorMessage } />\n      <h2>Numbers</h2>\n      <ul>\n        { persons.filter(person => person.display).map(person => {\n          return <Number key={ person.name } person={ person } handleDelete={ () => handleDelete(person) } />\n        }) }\n      </ul>\n    </div>\n\n  )\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}